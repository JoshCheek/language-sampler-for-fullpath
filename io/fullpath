#!/usr/bin/env io

dir          := Directory currentWorkingDirectory .. "/"
paths        := list()
printHelp    := false
copyOutput   := false

// System args rest map(index, arg, dir .. arg) foreach(index, path, path println())
System args rest foreach(arg,
  (arg == "-h" or arg == "--help") ifTrue(printHelp  = true) or
  (arg == "-c" or arg == "--copy") ifTrue(copyOutput = true) or
  (arg isEmpty)                    ifFalse(paths append(arg))
)

(paths size == 0) ifTrue(paths = File standardInput readLines select(line, line isEmpty not))
paths = paths map(index, arg, dir .. arg)

(paths size == 1) ifTrue(
  paths first print
) ifFalse (
  paths foreach(index, path, path println)
)
